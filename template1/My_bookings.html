<!DOCTYPE html>
<html>

 

<head>
<title>Your Bookings</title>
<style>
    table {

        font-family: arial, sans-serif;
      
        border-collapse: collapse;
      
        width: 100%;
     
      }
     
      td, th {
      
        border: 1px solid #dddddd;
      
        text-align: left;
      
        padding: 8px;
      
      }
     
      tr:nth-child(even) {
      
        background-color: #dddddd;
      
      }
      
      body
      
          {
              counter-reset: Serial;               
          }   
          table
      
          {      
              border-collapse: separate;
      
          }
    
          tr td:first-child:before
      
          {
      
            counter-increment: Serial;      
      
            content: counter(Serial);
      
          }
          h1{
            background-color: red;
            color: white;
            text-align: center;
          }
          .cancel-button{
            cursor: pointer;
          }
      
</style>
</head>

 

<body>
<h1>Your Bookings</h1>
<table>
<tr>
<th>S.No</th>
<th>Slot</th>
<th>Booking Date</th>
<th>Shift</th>
<th></th>
</tr>
        {% for booking in user_bookings %}
      
<tr>
<td></td>
<td>{{ booking.slot.slot_number }}</td>
<td>{{ booking.slot.booking_date }}</td>
<td>{{ booking.slot.shifts }}</td>

<td><form method="post" action="{% url 'cancel_slot' booking.slot.id %}">
    {% csrf_token %}
    
<button type="submit" class="cancel-button" title="Click here to cancel your slot">Cancel</button>
</form></td>
</tr>

        {% endfor %}
</table>

<script>
  document.addEventListener("DOMContentLoaded", function () {
      const cancelButtons = document.querySelectorAll(".cancel-button");
      cancelButtons.forEach((button) => {
          button.addEventListener("click", function (event) {
              event.preventDefault();
              const confirmation = confirm("Do you really want to cancel?");
              if (confirmation) {
                  
                  event.target.closest("form").submit();
              } else {
                  
              }
          });
      });
  });
  </script>





</body>

 

</html>


